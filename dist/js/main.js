function research(t){$("#artist-input").val(t).trigger("change")}var spinner,target,opts;$(document).ready(function(){opts={lines:8,length:1,width:8,radius:16,corners:1,rotate:0,direction:1,color:"#FFC107",speed:1,trail:25,shadow:!1,hwaccel:!0,className:"spinner",zIndex:2e9,top:"50%",left:"50%"},target=document.getElementsByTagName("body")[0],spinner=new Spinner(opts),$("#artist-input").focus()}),$("#artist-input").change(function(){$(this).blur(),spinner.stop(),spinner.spin(target),$(".error-message").hide(),$(".artist").remove();var t=this.value.split(" ").join("+");$.ajax({type:"GET",url:"https://api.spotify.com/v1/search?q="+t+"&type=artist&limit=1",dataType:"json",success:function(t){if(null!==t.artists.items[0]){var e=t.artists.items[0].id;$.ajax({type:"GET",url:"https://api.spotify.com/v1/artists/"+e+"/related-artists",dataType:"json",success:function(t){var e=t.artists;if(e.length>0){for(var s=0;s<e.length;s++){var r="";try{r=e[s].images[0].url}catch(a){r="img/error.png"}$(".content").append('<div class="artist"><img src="'+r+'"><div class="layover"><h2>'+e[s].name+'</h2><a href="javascript:void(0)" onClick="research(\''+e[s].name+'\');"><img src="img/outlets/research.png"></a><a href="https://www.youtube.com/results?search_query='+e[s].name.split(" ").join("+")+'" alt="YouTube" target="_blank"><img src="img/outlets/youtube.png" alt="YouTube"></a><a href="https://play.spotify.com/search/'+e[s].name.split(" ").join("%20")+'" alt="Spotify Web" target="_blank"><img src="img/outlets/spotify-web.png" alt="Spotify Web"></a><a href="spotify:search:'+e[s].name.split(" ").join("+")+'" alt="Spotify App"><img src="img/outlets/spotify-app.png" alt="Spotify App"></a></div></div>')}var i=$(".artist").width();$(".artist").css("height",i+"px"),$(".artist img").each(function(){$(this).load(function(){$(this).addClass($(this).width()>=$(this).height()?"landscape":"portrait"),$(this).fadeIn()})}),$(".artist").hover(function(){$(".layover",this).fadeToggle("fast")})}else $(".error-message").html("<h3>Error: No related artists were found.</h3>"),$(".error-message").show();spinner.stop()}})}else spinner.stop(),$(".error-message").html("<h3>Error: The artist that you entered was not found.</h3>"),$(".error-message").show()},error:function(){spinner.stop(),$(".error-message").html("<h3>Error: You have entered an invalid artist.</h3>"),$(".error-message").show()}})});